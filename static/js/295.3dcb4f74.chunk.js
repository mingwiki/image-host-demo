"use strict";(self.webpackChunkimgurl=self.webpackChunkimgurl||[]).push([[295],{4295:function(e,n,r){r.r(n),r.d(n,{default:function(){return N}});var t,i,s,a,l,u,o,c=r(2791),d=r(8907),m=r(3433),x=r(9439),f=r(168),g=r(1014),p=r(3695),Z=r(9332),h=r(7758),v=r(9286),b=r(5751),j=r(184),P=b.ZP.div(t||(t=(0,f.Z)(["\n  margin: 2em;\n"]))),S=b.ZP.div(i||(i=(0,f.Z)(["\n  font-size: 1.5em;\n  margin: 2em;\n  padding: 0 2em;\n  text-align: center;\n  border: 1px solid;\n  border-radius: 10px;\n"]))),k=b.ZP.div(s||(s=(0,f.Z)(["\n  border: 4px groove;\n  border-top: none;\n  border-radius: 1em;\n  padding: 1em 3em;\n"]))),w=b.ZP.div(a||(a=(0,f.Z)(["\n  display: flex;\n  justify-content: space-between;\n  margin: 0.5em 0;\n  padding: 0 1em;\n"]))),y=b.ZP.button(l||(l=(0,f.Z)(["\n  border-style: solid;\n  background: none;\n  cursor: pointer;\n  &.active {\n    border-style: dashed;\n  }\n  &:active {\n    color: red;\n  }\n"]))),C=(0,d.Pi)((function(){var e=(0,c.useContext)(g.Z),n=e.ImageStore,r=e.UserStore,t=(0,c.useState)(!1),i=(0,x.Z)(t,2),s=i[0],a=i[1],l=(0,c.useState)(""),u=(0,x.Z)(l,2),o=u[0],d=u[1],f=(0,c.useState)(""),b=(0,x.Z)(f,2),C=b[0],T=b[1],U=(0,c.useState)([]),z=(0,x.Z)(U,2),N=z[0],F=z[1],I=(0,j.jsxs)("div",{children:[(0,j.jsx)(v.Z,{}),(0,j.jsx)("div",{style:{marginTop:8},children:"Upload"})]});return(0,j.jsxs)(P,{children:[(0,j.jsx)(Z.Z,{listType:"picture-card",fileList:N,onPreview:function(e){d(e.url),a(!0),T(e.name||e.url.substring(e.url.lastIndexOf("/")+1))},onRemove:function(e){F(N.filter((function(n){return n!==e})))},customRequest:function(e){var t=e.file;n.setFile(t),n.setName(t.name),r.currentUser?n.upload().then((function(e){F((function(n){return[].concat((0,m.Z)(n),[{uid:t.uid,name:t.name,status:"done",url:e.attributes.attachments[0].attributes.url}])})),console.log("\u6587\u4ef6\u4e0a\u4f20\u6210\u529f")}),(function(e){F((function(e){return[].concat((0,m.Z)(e),[{uid:t.uid,name:t.name,status:"error"}])})),console.log("\u6587\u4ef6\u4e0a\u4f20\u5931\u8d25",e)})):p.ZP.error("\u8bf7\u5148\u767b\u5f55\u518d\u4e0a\u4f20")},multiple:!0,children:I}),0===N.length?null:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(S,{children:"\u4e0a\u4f20\u7ed3\u679c"}),(0,j.jsx)(k,{children:N.map((function(e){return(0,j.jsxs)(w,{children:[(0,j.jsx)("a",{href:e.url,target:"_blank",rel:"noreferrer",children:e.name}),(0,j.jsx)(y,{onClick:function(n){e.url?(navigator.clipboard.writeText(e.url),n.target.innerText="(\u94fe\u63a5\u5df2\u590d\u5236)"):(navigator.clipboard.writeText(e.name),n.target.innerText="(\u6587\u4ef6\u540d\u5df2\u590d\u5236)"),n.target.className.toString().split(" ").includes("active")||(n.target.className+=" active")},children:e.url?"\u70b9\u51fb\u590d\u5236\u94fe\u63a5":"\u4e0a\u4f20\u5931\u8d25\uff0c\u70b9\u51fb\u590d\u5236\u6587\u4ef6\u540d"})]},e.uid)}))})]}),(0,j.jsx)(h.Z,{visible:s,title:C,footer:null,onCancel:function(){return a(!1)},children:(0,j.jsx)("img",{alt:"example",style:{width:"100%"},src:o})})]})})),T=b.ZP.div(u||(u=(0,f.Z)(["\n  padding: 1em 2em;\n  font-size: 1.2rem;\n  text-align: center;\n"]))),U=b.ZP.div(o||(o=(0,f.Z)(["\n  color: red;\n  padding: 1em 2em;\n  font-size: 1.2rem;\n  text-align: center;\n"]))),z=(0,d.Pi)((function(e){var n=e.children,r=(0,c.useContext)(g.Z).UserStore;return r.currentUser?(0,j.jsxs)(T,{children:["\u6b22\u8fce\u56de\u6765\uff0c ",r.currentUser.attributes.username]}):(0,j.jsxs)(U,{children:["\u8bf7\u5148\u767b\u5f55\u518d\u4e0a\u4f20, ",n]})})),N=(0,d.Pi)((function(){return(0,j.jsxs)("main",{children:[(0,j.jsx)(z,{children:"\u7528\u6237\u672a\u767b\u5f55"}),(0,j.jsx)(C,{})]})}))}}]);
//# sourceMappingURL=295.3dcb4f74.chunk.js.map